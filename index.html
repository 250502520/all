<!DOCTYPE html>
<html>
<head>
    <title>喵</title>
    <style>
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            padding: 20px;
        }
        .media-item {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: center;
        }
        video {
            max-width: 100%;
            max-height: 300px;
        }
        img {
            max-height: 300px;
            width: auto;
        }
    </style>
</head>
<body>
    <h1>Media Gallery</h1>
    <div class="gallery" id="gallery"></div>

    <script>
        // 自动加载媒体文件
        async function loadMedia() {
            const gallery = document.getElementById('gallery');
            const mediaPath = '/250502520/assets/media/';
            
            try {
                // 获取文件列表（需要启用CORS代理）
                const response = await fetch(`https://api.allorigins.win/raw?url=${encodeURIComponent(`https://github.com/你的用户名/你的仓库名/contents/assets/media`)}`);
                const files = await response.json();

                files.forEach(file => {
                    const container = document.createElement('div');
                    container.className = 'media-item';
                    
                    if (file.name.match(/\.(jpg|jpeg|png|gif)$/i)) {
                        const img = document.createElement('img');
                        img.src = mediaPath + file.name;
                        img.alt = file.name;
                        container.appendChild(img);
                    } else if (file.name.match(/\.(mp4|webm)$/i)) {
                        const video = document.createElement('video');
                        video.controls = true;
                        const source = document.createElement('source');
                        source.src = mediaPath + file.name;
                        source.type = `video/${file.name.split('.').pop()}`;
                        video.appendChild(source);
                        container.appendChild(video);
                    }
                    
                    const fileName = document.createElement('div');
                    fileName.textContent = file.name;
                    container.appendChild(fileName);
                    
                    gallery.appendChild(container);
                });
            } catch (error) {
                console.error('Error loading media:', error);
            }
        }

        window.onload = loadMedia;
    </script>
</body>
</html>
